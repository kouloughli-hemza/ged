$(function(){"use strict";function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(feather.replace(),window.matchMedia("(max-width: 991px)").matches)const a=new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});if(e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&a.update()}),$(document).on("click touchstart",function(e){if(e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){$(e.target).closest(".navbar-menu .nav-item").length||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})}$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){if(e.stopPropagation(),!$(e.target).closest(".burger-menu").length){var a=$(e.target).closest(".sidebar").length,t=$(e.target).closest(".navbar-menu-wrapper").length;a||t||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}),$(function(){"use strict";new PerfectScrollbar(".filemgr-sidebar-body",{suppressScrollX:!0}),new PerfectScrollbar(".filemgr-content-body",{suppressScrollX:!0}),$("#filemgrMenu").on("click",function(e){e.preventDefault(),$("body").addClass("filemgr-sidebar-show"),$(this).addClass("d-none"),$("#mainMenuOpen").removeClass("d-none")}),$(document).on("click touchstart",function(e){if(e.stopPropagation(),!$(e.target).closest(".burger-menu").length){$(e.target).closest(".filemgr-sidebar").length||($("body").removeClass("filemgr-sidebar-show"),$("#filemgrMenu").removeClass("d-none"),$("#mainMenuOpen").addClass("d-none"))}}),$(".important").on("click",function(e){e.preventDefault();var a=$(this).closest(".card-file"),t=a.find(".marker-icon");t.length?(t.remove(),$(this).html('<i data-feather="star"></i> Mark as Important')):($(this).closest(".card-file").append('<div class="marker-icon marker-warning pos-absolute t--1 l--1"><i data-feather="star"></i></div>'),$(this).html('<i data-feather="star"></i> Unmark as Important')),feather.replace()}),$(".download").on("click",function(e){e.preventDefault(),$("#toast").toast("show")})}),$(function(){"use strict";$("#arrivee,#filterArrivee,#filterCreation,#arrivee-scanner").flatpickr({altInput:!0,altFormat:"Le j F, Y",dateFormat:"Y-m-d",maxDate:"today",locale:"fr"}),$("#arriveeHour,#arriveeHour-scanner").flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,locale:"fr"})}),$(".search-filter").on("click",function(e){e.preventDefault();var a=$(this).attr("href");$(a).addClass("show")}),$(document).on("click touchstart",function(e){if(e.stopPropagation(),!$(e.target).closest(".search-filter").length){$(e.target).closest(".off-canvas").length}}),$(".off-canvas .close").on("click",function(e){e.preventDefault(),$(this).closest(".off-canvas").removeClass("show")}),$(".dropify").dropify({messages:{default:"Glissez-déposez un fichier ici ou cliquez",replace:"Glissez-déposez un fichier ou cliquez pour remplacer",remove:"Supprimer",error:"Désolé, le fichier trop volumineux"}}),$("#previewDocument").on("show.bs.modal",function(e){var a=$(e.relatedTarget).data("path");$(e.currentTarget).find("#documentSource").attr("src",a)}),$("#modalViewDetails").on("show.bs.modal",function(e){var a=$(e.relatedTarget).data("objet"),t=$(e.relatedTarget).data("expiditeur"),r=$(e.relatedTarget).data("destinataire"),n=$(e.relatedTarget).data("nombre_page"),s=$(e.relatedTarget).data("date_arrivee"),o=$(e.relatedTarget).data("date_arrivee_human"),i=$(e.relatedTarget).data("direction"),l=$(e.relatedTarget).data("created_at"),c=$(e.relatedTarget).data("created_at_humans");$(e.currentTarget).find("#objectDetails").text(a),$(e.currentTarget).find("#senderDetails").text(t),$(e.currentTarget).find("#receiverDetails").text(r),$(e.currentTarget).find("#pagesNumberDetails").text(n),$(e.currentTarget).find("#arrivalDateDetails").text(s),$(e.currentTarget).find("#diffArrivalDate").text(o),$(e.currentTarget).find("#direction").text(i),$(e.currentTarget).find("#created_at").text(l),$(e.currentTarget).find("#created_at_humans").text(c)});